<!--このヘルプ ファイルの内容を表示するには、
ソリューション エクスプローラ ペインでファイルを右クリックし、
[ブラウザで表示] をクリックしてください。-->

<html><head><title>HttpClient サンプル : HTTP クライアント サービスの例</title></head><body><h1>HttpClient サンプル : HTTP クライアント サービスの例</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><h1 class="heading" >
  サンプル ファイル :
</h1><p /><p>ATL Server の HTTP クライアント サポートを使用して、MFC アプリケーションから HTTP Web 要求を行います。</p><p>HttpClient サンプルは、MFC ダイアログ ボックス アプリケーションです。これを使用して、指定した URL から HTTP 応答を取得してチェックできます。HttpClient サンプルでは、<MSHelp:link keywords="5D1F77D4-8049-455C-A11E-FFC299662F6B" tabindex="0" >CAtlHttpClientT</MSHelp:link> クラスを使用して、単純なインターフェイスを実装し、リダイレクトと保護スキームの処理を自動化することによって HTTP クライアントの操作を簡略化します。サンプルでは、HTTP トランザクションが成功した後に、応答のヘッダーと本体を表示します。URL がイメージを示す場合は、別のダイアログ ボックスにイメージが表示されます。 </p><p>このサンプルでは、次の処理を行います。  </p><ul><li><p><MSHelp:link keywords="5D1F77D4-8049-455C-A11E-FFC299662F6B" tabindex="0" >CAtlHttpClientT</MSHelp:link> クラスを使用して、HTTP クライアント要求を出し、応答を受信します。</p></li><li><p><MSHelp:link keywords="01505469-543D-4799-A4AF-10FF07316667" tabindex="0" >CAtlNavigateData</MSHelp:link> クラスを使用して、大きなファイルのダウンロード時に定期的に呼び出されるコールバックを組み込むなど、<MSHelp:link keywords="5D1F77D4-8049-455C-A11E-FFC299662F6B" tabindex="0" >CAtlHttpClientT</MSHelp:link> の既定の動作を変更します。サンプルではコールバックを使用してプログレス バーを更新します。</p></li><li><p><MSHelp:link keywords="E579C224-5EC0-4B27-B7EE-EB2CDC91A55F" tabindex="0" >CAtlHttpClientT::SetProxy</MSHelp:link> 関数を使用して、プロキシ サーバーを通じて HTTP トランザクションを実行します。</p></li><li><p>オプションとして <MSHelp:link keywords="132DE9D1-EAE7-4253-BAE1-E51B9509AF52" tabindex="0" >CBasicAuthObject</MSHelp:link> クラスおよび <MSHelp:link keywords="74FB357B-E412-4DD6-BE7B-F98397398AAB" tabindex="0" >CNTLMAuthObject</MSHelp:link> クラスを使用して、保護された URL にアクセスできるようにします。</p></li><li><p>ユーザーの指定した URL がイメージ ファイルを指す場合は、ATL <MSHelp:link keywords="52861E3D-BF7E-481F-A240-90E88F76C490" tabindex="0" >CImage</MSHelp:link> クラスを使用してイメージ データを表示します。</p></li></ul><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">セキュリティに関するメモ </th></tr><tr><td><p>このサンプル コードは概念を示す目的で提供されているものです。必ずしも最も安全なコーディング手法に従っているわけではないので、アプリケーションまたは Web サイトでは使用しないでください。Microsoft は、サンプル コードが意図しない目的で使用された場合に、付随的または間接的な損害について責任を負いません。</p></td></tr></table></div><h1 class="heading">必要条件</h1><div id="requirementsSection" class="section"><ul><li><p>IIS</p></li></ul></div><h1 class="heading">サンプルのビルドと実行</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><h3 class="subHeading">このサンプルをビルドして実行するには</h3><div class="subSection"><ol><li><p>Visual Studio 開発環境で、ソリューション ファイル HttpClient.sln を開きます。</p></li><li><p>ソリューションをビルドします。</p></li><li><p>[デバッグ] メニューの [開始] をクリックします<b></b>。</p></li><li><p>[URL] ボックスに URL を入力し、必要に応じてプロキシ サーバー設定を指定し、[Navigate] をクリックします。サンプルは指定の URL に HTTP GET 要求を出し、応答データまたはエラー メッセージを表示します。サーバーからイメージが返された場合は、別のウィンドウにイメージが表示されます。</p></li></ol></div><sections ><h3 class="subHeading" xmlns="">使用例</h3><div class="subSection" xmlns=""><p><MSHelp:link keywords="5D1F77D4-8049-455C-A11E-FFC299662F6B" tabindex="0" >CAtlHttpClientT</MSHelp:link> | <MSHelp:link keywords="FE5B5B44-094C-4141-BAC7-5F0AEE53B741" tabindex="0" >CAtlHttpClientT::AddAuthObj</MSHelp:link> | <MSHelp:link keywords="410F2635-B40E-43BA-B47E-F510442C723B" tabindex="0" >CAtlHttpClientT::GetBody</MSHelp:link> | <MSHelp:link keywords="A3785F13-F27F-47BF-856A-A0952F298001" tabindex="0" >CAtlHttpClientT::GetBodyLength</MSHelp:link> | <MSHelp:link keywords="26CD272D-E2EA-488C-B7F6-D354FC549ED3" tabindex="0" >CAtlHttpClientT::GetHeaderValue</MSHelp:link> | <MSHelp:link keywords="3DC20353-DC7E-4C99-90BB-45F42968C37F" tabindex="0" >CAtlHttpClientT::GetRawResponseHeader</MSHelp:link> | <MSHelp:link keywords="09CCF14F-E6AF-42C8-AF38-8492F9C8BC34" tabindex="0" >CAtlHttpClientT::GetStatus</MSHelp:link> | <MSHelp:link keywords="5A6A1D5C-81D1-43A4-8322-A6BF22776BED" tabindex="0" >CAtlHttpClientT::Navigate</MSHelp:link> | <MSHelp:link keywords="E579C224-5EC0-4B27-B7EE-EB2CDC91A55F" tabindex="0" >CAtlHttpClientT::SetProxy</MSHelp:link> | <MSHelp:link keywords="58AD036D-5817-4111-9B80-04B8AB8687F4" tabindex="0" >CAtlNavigateData::SetReadStatusCallback</MSHelp:link> | <MSHelp:link keywords="D1159066-A5C3-4A24-B02F-2B7D7B398A79" tabindex="0" >CBasicAuthObject::Authenticate</MSHelp:link> | <MSHelp:link keywords="D7CD15F7-2F35-4A96-A664-B33681D60B5A" tabindex="0" >CBasicAuthObject::Init</MSHelp:link> | <MSHelp:link keywords="0C84BF85-7B09-40EA-8E27-06672D917A64" tabindex="0" >CImage::BitBlt</MSHelp:link> | <MSHelp:link keywords="A8A01B9A-BA88-4821-B57D-0D9604EBAF16" tabindex="0" >CImage::GetHeight</MSHelp:link> | <MSHelp:link keywords="763E2961-1696-4618-BDEB-F65F5EA23509" tabindex="0" >CImage::GetWidth</MSHelp:link> | <MSHelp:link keywords="ABF2101C-5B0E-4285-92F2-ED270ACC5E3D" tabindex="0" >CImage::Load</MSHelp:link> | <MSHelp:link keywords="74FB357B-E412-4DD6-BE7B-F98397398AAB" tabindex="0" >CNTLMAuthObject</MSHelp:link> | <MSHelp:link keywords="936AF774-B8FA-41E0-90EB-79CF8D2AD9E7" tabindex="0" >IAuthInfo::GetDomain</MSHelp:link> | <MSHelp:link keywords="A5746696-1525-41AB-AFED-729ADF678B88" tabindex="0" >IAuthInfo::GetPassword</MSHelp:link> | <MSHelp:link keywords="9C3B69CD-D83C-413D-8E58-FAB2FAB7BB4D" tabindex="0" >IAuthInfo::GetUserName</MSHelp:link></p></div></sections></div><h1 class="heading"><span id="seeAlsoNoToggle">参照</span></h1></div><div id="footer"><div class="footerLine"></div>
        このトピックについてのご提案や障害報告をお送りいただく場合は、<a href="http://go.microsoft.com/fwlink/?linkid=53178">こちら</a>を参照してください。
      </div></div></body></html>
